<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>VibeShop - Качественная одежда и премиальные реплики 1:1</title>
    <meta name="description" content="VibeShop - магазин качественной одежды и премиальных реплик 1:1. Свитшоты, лонгсливы, жилетки от известных брендов Hermes, Burberry, Lacoste, Dior и других.">
    <meta name="keywords" content="одежда, реплики, свитшоты, жилетки, мода, стиль, Hermes, Burberry, Lacoste, Dior, премиум качество">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="VibeShop - Стиль в каждом моменте">
    <meta property="og:description" content="Качественная одежда и премиальные реплики 1:1">
    <meta property="og:image" content="https://vibeshop.by/preview.jpg">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vibeshop.by">
    <!-- Schema.org markup -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Store",
            "name": "VibeShop",
            "description": "Магазин качественной одежды и премиальных реплик 1:1",
            "url": "https://vibeshop.by",
            "telephone": "+375-29-XXX-XX-XX",
            "address": {
                "@type": "PostalAddress",
                "addressCountry": "BY"
            },
            "openingHours": "Mo-Su 09:00-21:00",
            "priceRange": "$$"
        }
    </script>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --gray: #95a5a6;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            overflow-x: hidden;
        }

        /* Preloader */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--secondary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Header */
        .header {
            background: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 1rem 0;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 1rem;
        }

        .logo h1 {
            color: var(--primary);
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .contact-btn, .cart-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .contact-btn:hover, .cart-btn:hover {
            background: var(--secondary);
        }

        .cart-btn {
            position: relative;
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.7rem;
            transition: var(--transition);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-4.0.3') center/cover no-repeat;
            color: white;
            padding: 4rem 1rem;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .hero-features {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .feature {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .feature i {
            font-size: 1.5rem;
            color: var(--secondary);
        }

        /* Breadcrumbs */
        .breadcrumbs-container {
            background: white;
            padding: 1rem;
            box-shadow: var(--shadow);
        }

        .breadcrumbs {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .breadcrumbs a {
            color: var(--secondary);
            text-decoration: none;
        }

        .breadcrumbs span {
            color: var(--gray);
        }

        /* Filters */
        .filters-section {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .filters-header h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-group label {
            font-weight: bold;
            color: var(--dark);
        }

        .filter-range {
            width: 100%;
        }

        .filter-select {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }

        /* Categories */
        .categories-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            position: relative;
            display: flex;
            align-items: center;
        }

        .categories {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 0.5rem;
            scrollbar-width: none;
        }

        .categories::-webkit-scrollbar {
            display: none;
        }

        .category {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            min-width: 80px;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: var(--transition);
        }

        .category:hover {
            background: #f0f0f0;
        }

        .category img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 50%;
        }

        .category span {
            font-size: 0.8rem;
            text-align: center;
        }

        .scroll-btn {
            background: white;
            border: 1px solid #ddd;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            z-index: 2;
        }

        .scroll-btn:hover {
            background: var(--secondary);
            color: white;
        }

        .scroll-left {
            position: absolute;
            left: 0;
        }

        .scroll-right {
            position: absolute;
            right: 0;
        }

        /* Products Section */
        .products-section {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .section-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .section-header h3 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: var(--transition);
        }

        .product-card:hover .product-overlay {
            opacity: 1;
        }

        .quick-view {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .quick-view:hover {
            background: var(--primary);
        }

        .product-info {
            padding: 1rem;
        }

        .product-info h4 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .price {
            font-weight: bold;
            color: var(--accent);
        }

        .add-to-cart-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .add-to-cart-btn:hover {
            background: var(--secondary);
        }

        .add-to-cart-btn.added {
            background: var(--success);
        }

        /* Skeleton loading */
        .skeleton {
            animation: skeleton-loading 1s linear infinite alternate;
        }

        .skeleton-image {
            height: 200px;
            background: #ddd;
        }

        .skeleton-text {
            height: 12px;
            margin-bottom: 0.5rem;
            border-radius: 4px;
            background: #ddd;
        }

        @keyframes skeleton-loading {
            0% { opacity: 0.7; }
            100% { opacity: 0.3; }
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 2rem;
        }

        .pagination-btn {
            background: white;
            border: 1px solid #ddd;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .pagination-btn:hover, .pagination-btn.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        /* Product Detail Page */
        .product-detail-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 1000;
            overflow-y: auto;
            display: none;
        }

        .product-detail-page.active {
            display: block;
        }

        .product-detail-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .back-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            transition: var(--transition);
        }

        .back-btn:hover {
            background: var(--secondary);
        }

        .product-detail-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .main-product-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 8px;
        }

        .product-thumbnails {
            display: flex;
            gap: 0.5rem;
        }

        .thumbnail {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0.7;
        }

        .thumbnail:hover, .thumbnail.active {
            opacity: 1;
            border: 2px solid var(--secondary);
        }

        .product-detail-info h2 {
            color: var(--dark);
            margin-bottom: 1rem;
        }

        .product-detail-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .product-detail-desc {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .product-features {
            margin-bottom: 2rem;
        }

        .features-list {
            list-style-type: none;
            margin-top: 0.5rem;
        }

        .features-list li {
            padding: 0.3rem 0;
            position: relative;
            padding-left: 1.5rem;
        }

        .features-list li:before {
            content: "•";
            color: var(--secondary);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .detail-actions {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
        }

        .size-selector {
            margin-bottom: 1.5rem;
        }

        .size-selector h4 {
            margin-bottom: 0.5rem;
        }

        .size-options {
            display: flex;
            gap: 0.5rem;
        }

        .size-option {
            border: 1px solid #ddd;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }

        .size-option:hover, .size-option.selected {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .detail-add-to-cart {
            background: var(--accent);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            width: 100%;
            justify-content: center;
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .detail-add-to-cart:hover {
            background: #c0392b;
        }

        /* Contact Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--accent);
        }

        .modal-body {
            padding: 1.5rem;
        }

        .contact-info {
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .contact-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .contact-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .contact-avatar {
            width: 80px;
            height: 80px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 2rem;
            color: white;
        }

        .contact-details h4 {
            margin-bottom: 0.5rem;
        }

        .contact-details p {
            color: var(--gray);
            margin-bottom: 1rem;
        }

        .contact-link {
            background: var(--primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .contact-link:hover {
            background: var(--secondary);
        }

        .replica-notice {
            background: #fff8e1;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--warning);
        }

        .replica-notice h4 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .replica-notice ul {
            list-style-type: none;
            margin-top: 0.5rem;
        }

        .replica-notice li {
            padding: 0.3rem 0;
            position: relative;
            padding-left: 1.5rem;
        }

        .replica-notice li:before {
            content: "✓";
            color: var(--success);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 100%;
            max-width: 400px;
            height: 100%;
            background: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-header {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
        }

        .close-btn:hover {
            color: var(--accent);
        }

        .cart-content {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .cart-empty {
            text-align: center;
            padding: 2rem;
            color: var(--gray);
        }

        .cart-empty i {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
            color: #ddd;
        }

        .cart-item {
            display: flex;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .cart-item-price {
            color: var(--accent);
            font-weight: bold;
            margin-bottom: 0.3rem;
        }

        .remove-item {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            transition: var(--transition);
        }

        .remove-item:hover {
            color: var(--accent);
        }

        .cart-footer {
            padding: 1.5rem;
            border-top: 1px solid #eee;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .order-btn, .copy-btn {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
            transition: var(--transition);
            margin-bottom: 0.5rem;
        }

        .order-btn {
            background: var(--accent);
            color: white;
        }

        .order-btn:hover {
            background: #c0392b;
        }

        .copy-btn {
            background: var(--primary);
            color: white;
        }

        .copy-btn:hover {
            background: var(--secondary);
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark);
            color: white;
            padding: 1rem 2rem;
            border-radius: 4px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1002;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .toast.show {
            opacity: 1;
            visibility: visible;
        }

        .toast.success {
            background: var(--success);
        }

        .toast.error {
            background: var(--accent);
        }

        .toast.warning {
            background: var(--warning);
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .product-detail-content {
                grid-template-columns: 1fr;
            }

            .hero h2 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .hero-features {
                gap: 1rem;
            }

            .filters-grid {
                grid-template-columns: 1fr;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }

            .cart-sidebar {
                max-width: 100%;
            }

            .contact-cards {
                grid-template-columns: 1fr;
            }
        }

        /* Correct height for product cards */
        .correct-height {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .correct-height .product-info {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .correct-height .product-footer {
            margin-top: auto;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
<!-- Preloader -->
<div id="preloader">
    <div class="loader"></div>
</div>

<!-- Header -->
<header class="header">
    <div class="header-content">
        <div class="logo">
            <h1><i class="fas fa-shirt"></i> VibeShop</h1>
            <p>Стиль в каждом моменте</p>
        </div>
        <div class="header-actions">
            <button id="contact-btn" class="contact-btn">
                <i class="fas fa-envelope"></i> Контакты
            </button>
            <button id="cart-toggle" class="cart-btn">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-count" class="cart-badge">0</span>
            </button>
        </div>
    </div>
</header>

<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <h2>Обнови свой стиль</h2>
        <p>Качественная одежда и премиальные реплики 1:1</p>
        <div class="hero-features">
            <div class="feature">
                <i class="fas fa-truck-fast"></i>
                <span>Быстрая доставка</span>
            </div>
            <div class="feature">
                <i class="fas fa-medal"></i>
                <span>Качество 1:1</span>
            </div>
            <div class="feature">
                <i class="fas fa-tag"></i>
                <span>Лучшие цены</span>
            </div>
        </div>
    </div>
</section>

<!-- Хлебные крошки -->
<div class="breadcrumbs-container">
    <div class="breadcrumbs">
        <a href="#">Главная</a>
        <i class="fas fa-chevron-right"></i>
        <span>Каталог</span>
    </div>
</div>

<!-- Фильтры -->
<section class="filters-section">
    <div class="filters-header">
        <h3><i class="fas fa-filter"></i> Фильтры</h3>
        <button id="reset-filters" class="contact-btn">
            <i class="fas fa-redo"></i> Сбросить
        </button>
    </div>
    <div class="filters-grid">
        <div class="filter-group">
            <label>Цена (BYN)</label>
            <input type="range" class="filter-range" id="price-range" min="50" max="300" step="10" value="300">
            <div id="price-value">До 300 BYN</div>
        </div>
        <div class="filter-group">
            <label>Бренд</label>
            <select class="filter-select" id="brand-filter">
                <option value="all">Все бренды</option>
                <option value="hermes">Hermes</option>
                <option value="burberry">Burberry</option>
                <option value="lacoste">Lacoste</option>
                <option value="dior">Dior</option>
                <option value="guess">Guess</option>
            </select>
        </div>
        <div class="filter-group">
            <label>Размер</label>
            <select class="filter-select" id="size-filter">
                <option value="all">Все размеры</option>
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
            </select>
        </div>
        <div class="filter-group">
            <label>Сортировка</label>
            <select class="filter-select" id="sort-filter">
                <option value="newest">Сначала новые</option>
                <option value="price-asc">Цена по возрастанию</option>
                <option value="price-desc">Цена по убыванию</option>
                <option value="popular">Популярные</option>
            </select>
        </div>
    </div>
</section>

<!-- Категории -->
<div class="categories-container">
    <button class="scroll-btn scroll-left">
        <i class="fas fa-chevron-left"></i>
    </button>
    <div class="categories">
        <div class="category" data-category="все"><img src="https://via.placeholder.com/50" alt="Все товары" loading="lazy"><span>Все</span></div>
        <div class="category" data-category="свитшоты"><img src="https://via.placeholder.com/50" alt="Свитшоты" loading="lazy"><span>Свитшоты</span></div>
        <div class="category" data-category="лонгсливы"><img src="https://via.placeholder.com/50" alt="Лонгсливы" loading="lazy"><span>Лонгсливы</span></div>
        <div class="category" data-category="зипки"><img src="https://via.placeholder.com/50" alt="Зипки" loading="lazy"><span>Зипки</span></div>
        <div class="category" data-category="жилетки"><img src="https://via.placeholder.com/50" alt="Жилетки" loading="lazy"><span>Жилетки</span></div>
        <div class="category" data-category="сумки"><img src="https://via.placeholder.com/50" alt="Сумки" loading="lazy"><span>Сумки</span></div>
    </div>
    <button class="scroll-btn scroll-right">
        <i class="fas fa-chevron-right"></i>
    </button>
</div>

<!-- Products Section -->
<main class="products-section">
    <div class="section-header">
        <h3>Наша коллекция</h3>
        <p>Выбери то, что подходит именно тебе</p>
    </div>

    <div class="products-grid" id="products-grid">
        <!-- Скелетоны для загрузки -->
        <div class="product-card skeleton">
            <div class="product-image skeleton-image"></div>
            <div class="product-info">
                <div class="skeleton-text" style="width: 70%"></div>
                <div class="skeleton-text" style="width: 50%"></div>
                <div class="product-footer">
                    <div class="skeleton-text" style="width: 40%"></div>
                    <div class="skeleton-text" style="width: 30%"></div>
                </div>
            </div>
        </div>

        <div class="product-card skeleton">
            <div class="product-image skeleton-image"></div>
            <div class="product-info">
                <div class="skeleton-text" style="width: 70%"></div>
                <div class="skeleton-text" style="width: 50%"></div>
                <div class="product-footer">
                    <div class="skeleton-text" style="width: 40%"></div>
                    <div class="skeleton-text" style="width: 30%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Пагинация -->
    <div class="pagination" id="pagination">
        <button class="pagination-btn active">1</button>
        <button class="pagination-btn">2</button>
        <button class="pagination-btn">3</button>
        <button class="pagination-btn">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>
</main>

<!-- Product Detail Page -->
<div id="product-detail" class="product-detail-page">
    <div class="product-detail-container">
        <button id="back-to-products" class="back-btn">
            <i class="fas fa-arrow-left"></i> Назад к товарам
        </button>
        <div class="product-detail-content">
            <div class="product-gallery">
                <img id="main-product-image" class="main-product-image" src="" alt="Product Image" loading="lazy">
                <div class="product-thumbnails">
                    <!-- Миниатюры будут добавлены динамически -->
                </div>
            </div>
            <div class="product-detail-info">
                <h2 id="detail-product-name">Название товара</h2>
                <div id="detail-product-price" class="product-detail-price">0 BYN</div>
                <p id="detail-product-desc" class="product-detail-desc">Описание товара</p>
                <div class="product-features">
                    <h3>Характеристики:</h3>
                    <ul id="detail-features" class="features-list">
                        <!-- Характеристики будут добавлены динамически -->
                    </ul>
                </div>
                <div class="detail-actions">
                    <div class="size-selector">
                        <h4>Размер:</h4>
                        <div class="size-options">
                            <span class="size-option" data-size="S">S</span>
                            <span class="size-option" data-size="M">M</span>
                            <span class="size-option" data-size="L">L</span>
                            <span class="size-option" data-size="XL">XL</span>
                            <span class="size-option" data-size="XXL">XXL</span>
                        </div>
                    </div>
                    <button id="detail-add-to-cart" class="detail-add-to-cart">
                        <i class="fas fa-shopping-cart"></i> Добавить в корзину
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Contact Modal -->
<div class="modal" id="contact-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-users"></i> Наша команда</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="contact-info">
                <p>Мы всегда готовы помочь вам с выбором и ответить на все ваши вопросы. Свяжитесь с нами в Telegram для быстрой и удобной коммуникации!</p>
            </div>
            <div class="contact-cards">
                <div class="contact-card">
                    <div class="contact-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="contact-details">
                        <h4>Владислав</h4>
                        <p>Менеджер по продажам</p>
                        <a href="https://t.me/bigdigovich" class="contact-link" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-telegram"></i> Написать в Telegram
                        </a>
                    </div>
                </div>
                <div class="contact-card">
                    <div class="contact-avatar">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="contact-details">
                        <h4>Александр</h4>
                        <p>Техническая поддержка</p>
                        <a href="https://t.me/Amg0101am" class="contact-link" target="_blank" rel="noopener noreferrer">
                            <i class="fab fa-telegram"></i> Написать в Telegram
                        </a>
                    </div>
                </div>
            </div>
            <div class="replica-notice">
                <h4><i class="fas fa-crown"></i> Премиум качество</h4>
                <p>Все наши товары - это качественные реплики 1:1, которые не уступают оригиналам по материалам и пошиву.</p>
                <ul>
                    <li>Точное соответствие оригиналу</li>
                    <li>Качественные материалы</li>
                    <li>Прочная фурнитура</li>
                    <li>Аккуратная строчка</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Cart Sidebar -->
<div id="cart-sidebar" class="cart-sidebar">
    <div class="cart-header">
        <h3><i class="fas fa-shopping-cart"></i> Корзина</h3>
        <button id="close-cart" class="close-btn">&times;</button>
    </div>
    <div class="cart-content">
        <div id="cart-empty" class="cart-empty">
            <i class="fas fa-shopping-cart"></i>
            <p>Ваша корзина пуста</p>
            <small>Добавьте товары из каталога</small>
        </div>
        <div id="cart-items"></div>
    </div>
    <div class="cart-footer">
        <div class="cart-total">
            <span>Итого:</span>
            <span id="cart-total-price">0 BYN</span>
        </div>
        <button id="order-btn" class="order-btn">
            <i class="fas fa-check"></i> Оформить заказ
        </button>
        <button id="copy-order-btn" class="copy-btn">
            <i class="fas fa-copy"></i> Скопировать заказ
        </button>
    </div>
</div>

<!-- Overlay -->
<div id="overlay" class="overlay"></div>

<!-- Toast Notification -->
<div id="toast" class="toast"></div>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TX305753YW"></script>
<script>
    // Google Analytics
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-TX305753YW');

    // Данные товаров
    const products = {
        1: {
            name: "Свитшот Hermes",
            price: 129,
            brand: "hermes",
            category: "свитшоты",
            features: [
                "Материал: премиальный хлопок",
                "Качество 1:1",
                "Фирменная бирка и упаковка",
                "Доступные размеры: S, M, L, XL"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Hermes+1",
                "https://via.placeholder.com/500x500?text=Hermes+2",
                "https://via.placeholder.com/500x500?text=Hermes+3",
                "https://via.placeholder.com/500x500?text=Hermes+4",
                "https://via.placeholder.com/500x500?text=Hermes+5",
                "https://via.placeholder.com/500x500?text=Hermes+6",
            ]
        },
        2: {
            name: "Свитшот Burberry",
            price: 114,
            brand: "burberry",
            category: "свитшоты",
            features: [
                "Материал: высококачественный хлопок",
                "Узнаваемый клетчатый узор",
                "Фирменная бирка",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Burberry+1",
                "https://via.placeholder.com/500x500?text=Burberry+2",
                "https://via.placeholder.com/500x500?text=Burberry+3",
                "https://via.placeholder.com/500x500?text=Burberry+4",
                "https://via.placeholder.com/500x500?text=Burberry+5",
                "https://via.placeholder.com/500x500?text=Burberry+6",
                "https://via.placeholder.com/500x500?text=Burberry+7"
            ]
        },
        3: {
            name: "Свитшот Lacoste",
            price: 89,
            brand: "lacoste",
            category: "свитшоты",
            features: [
                "Материал: хлопок с небольшим добавлением эластана",
                "Фирменный крокодил",
                "Комфортная посадка",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Lacoste+1",
                "https://via.placeholder.com/500x500?text=Lacoste+2",
                "https://via.placeholder.com/500x500?text=Lacoste+3",
                "https://via.placeholder.com/500x500?text=Lacoste+4",
                "https://via.placeholder.com/500x500?text=Lacoste+5",
                "https://via.placeholder.com/500x500?text=Lacoste+6",
                "https://via.placeholder.com/500x500?text=Lacoste+7"
            ]
        },
        4: {
            name: "Свитшот Lacoste черный",
            price: 89,
            brand: "lacoste",
            category: "свитшоты",
            features: [
                "Материал: премиальный хлопок",
                "Классический черный цвет",
                "Фирменный крокодил",
                "Размеры: S, M, L, XL"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Lacoste+Black+1",
                "https://via.placeholder.com/500x500?text=Lacoste+Black+2",
                "https://via.placeholder.com/500x500?text=Lacoste+Black+3",
                "https://via.placeholder.com/500x500?text=Lacoste+Black+4",
                "https://via.placeholder.com/500x500?text=Lacoste+Black+5",
                "https://via.placeholder.com/500x500?text=Lacoste+Black+6",
            ]
        },
        5: {
            name: "Зипка Dior",
            price: 149,
            brand: "dior",
            category: "зипки",
            features: [
                "Материал: высококачественный полиэстер",
                "Фирменная фурнитура",
                "Качество 1:1",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Dior+1",
                "https://via.placeholder.com/500x500?text=Dior+2",
                "https://via.placeholder.com/500x500?text=Dior+3",
                "https://via.placeholder.com/500x500?text=Dior+4",
                "https://via.placeholder.com/500x500?text=Dior+5",
                "https://via.placeholder.com/500x500?text=Dior+6",
                "https://via.placeholder.com/500x500?text=Dior+7",
                "https://via.placeholder.com/500x500?text=Dior+8",
                "https://via.placeholder.com/500x500?text=Dior+9"
            ]
        },
        6: {
            name: "Лонгслив Guess",
            price: 98,
            brand: "guess",
            category: "лонгсливы",
            features: [
                "Материал: хлопок",
                "Узнаваемый логотип Guess",
                "Удобный крой",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Guess+1",
                "https://via.placeholder.com/500x500?text=Guess+2",
                "https://via.placeholder.com/500x500?text=Guess+3",
                "https://via.placeholder.com/500x500?text=Guess+4",
                "https://via.placeholder.com/500x500?text=Guess+5",
                "https://via.placeholder.com/500x500?text=Guess+6",
                "https://via.placeholder.com/500x500?text=Guess+7"
            ]
        },
        7: {
            name: "Жилетка Corteiz",
            price: 139,
            brand: "corteiz",
            category: "жилетки",
            features: [
                "Материал: нейлон",
                "Водоотталкивающая пропитка",
                "Несколько карманов",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Corteiz+1",
                "https://via.placeholder.com/500x500?text=Corteiz+2",
                "https://via.placeholder.com/500x500?text=Corteiz+3",
                "https://via.placeholder.com/500x500?text=Corteiz+4",
                "https://via.placeholder.com/500x500?text=Corteiz+5",
                "https://via.placeholder.com/500x500?text=Corteiz+6",
                "https://via.placeholder.com/500x500?text=Corteiz+7"
            ]
        },
        8: {
            name: "Жилетка Jordan & Supreme",
            price: 169,
            brand: "jordan",
            category: "жилетки",
            features: [
                "Материал: полиэстер",
                "Уникальный дизайн коллаборации",
                "Фирменные логотипы",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Jordan+1",
                "https://via.placeholder.com/500x500?text=Jordan+2",
                "https://via.placeholder.com/500x500?text=Jordan+3",
                "https://via.placeholder.com/500x500?text=Jordan+4",
                "https://via.placeholder.com/500x500?text=Jordan+5",
                "https://via.placeholder.com/500x500?text=Jordan+6",
                "https://via.placeholder.com/500x500?text=Jordan+7"
            ]
        },
        9: {
            name: "Жилетка Nike ACG",
            price: 124,
            brand: "nike",
            category: "жилетки",
            features: [
                "Материал: технологичная ткань Nike",
                "Водоотталкивающие свойства",
                "Светоотражающие элементы",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Nike+1",
                "https://via.placeholder.com/500x500?text=Nike+2",
                "https://via.placeholder.com/500x500?text=Nike+3",
                "https://via.placeholder.com/500x500?text=Nike+4",
                "https://via.placeholder.com/500x500?text=Nike+5",
                "https://via.placeholder.com/500x500?text=Nike+6",
                "https://via.placeholder.com/500x500?text=Nike+7"
            ]
        },
        10: {
            name: "Жилетка Polo Ralph Lauren",
            price: 119,
            brand: "polo",
            category: "жилетки",
            features: [
                "Материал: хлопок/нейлон",
                "Классический дизайн",
                "Фирменный логотип",
                "Размеры: S, M, L, XL"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Polo+1",
                "https://via.placeholder.com/500x500?text=Polo+2",
                "https://via.placeholder.com/500x500?text=Polo+3",
                "https://via.placeholder.com/500x500?text=Polo+4",
                "https://via.placeholder.com/500x500?text=Polo+5",
                "https://via.placeholder.com/500x500?text=Polo+6",
                "https://via.placeholder.com/500x500?text=Polo+7",
                "https://via.placeholder.com/500x500?text=Polo+8"
            ]
        },
        11: {
            name: "Жилетка Prada",
            price: 189,
            brand: "prada",
            category: "жилетки",
            features: [
                "Материал: премиальные материалы",
                "Идеальная посадка",
                "Фирменная фурнитура",
                "Размеры: M, L"
            ],
            images: [
                "https://via.placeholder.com/500x500?text=Prada+1",
                "https://via.placeholder.com/500x500?text=Prada+2",
                "https://via.placeholder.com/500x500?text=Prada+3",
                "https://via.placeholder.com/500x500?text=Prada+4",
                "https://via.placeholder.com/500x500?text=Prada+5",
                "https://via.placeholder.com/500x500?text=Prada+6",
            ]
        }
    };

    // Инициализация корзины
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let selectedSize = 'M';
    let currentPage = 1;
    const itemsPerPage = 8;
    let filteredProducts = Object.values(products);

    // DOM элементы
    const cartCount = document.getElementById('cart-count');
    const cartTotalPrice = document.getElementById('cart-total-price');
    const cartContent = document.querySelector('.cart-content');
    const cartSidebar = document.getElementById('cart-sidebar');
    const overlay = document.getElementById('overlay');
    const contactModal = document.getElementById('contact-modal');
    const productDetailPage = document.getElementById('product-detail');
    const toast = document.getElementById('toast');
    const cartItemsContainer = document.getElementById('cart-items');
    const cartEmpty = document.getElementById('cart-empty');
    const productsGrid = document.getElementById('products-grid');
    const priceRange = document.getElementById('price-range');
    const priceValue = document.getElementById('price-value');
    const brandFilter = document.getElementById('brand-filter');
    const sizeFilter = document.getElementById('size-filter');
    const sortFilter = document.getElementById('sort-filter');
    const resetFilters = document.getElementById('reset-filters');
    const pagination = document.getElementById('pagination');

    // Lazy loading для изображений
    function initLazyLoading() {
        const lazyImages = document.querySelectorAll('img[loading="lazy"]');

        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src || img.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });

            lazyImages.forEach(img => {
                imageObserver.observe(img);
            });
        }
    }

    // Обновление счетчика корзины
    function updateCartCount() {
        cartCount.textContent = cart.length;
        // Мгновенное обновление иконки корзины
        cartCount.style.transform = 'scale(1.2)';
        setTimeout(() => {
            cartCount.style.transform = 'scale(1)';
        }, 300);
    }

    // Обновление общей стоимости
    function updateCartTotal() {
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        cartTotalPrice.textContent = `${total.toLocaleString('ru-RU')} BYN`;
    }

    // Отображение товаров в корзине
    function renderCartItems() {
        if (cart.length === 0) {
            cartEmpty.style.display = 'block';
            cartItemsContainer.innerHTML = '';
            return;
        }

        cartEmpty.style.display = 'none';
        cartItemsContainer.innerHTML = cart.map((item, index) => `
            <div class="cart-item">
                <img src="${item.image || 'https://via.placeholder.com/80'}" alt="${item.name}" loading="lazy">
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">${item.price.toLocaleString('ru-RU')} BYN</div>
                    <small>Размер: ${item.size}</small>
                </div>
                <button class="remove-item" data-index="${index}">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `).join('');

        // Добавляем обработчики событий для кнопок удаления
        document.querySelectorAll('.remove-item').forEach(button => {
            button.addEventListener('click', (e) => {
                const index = parseInt(e.currentTarget.dataset.index);
                cart.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cart));
                renderCartItems();
                updateCartCount();
                updateCartTotal();
                showToast('Товар удален из корзины', 'success');
            });
        });
    }

    // Показать уведомление
    function showToast(message, type = 'success') {
        toast.textContent = message;
        toast.className = `toast ${type} show`;
        setTimeout(() => {
            toast.className = 'toast';
        }, 3000);
    }

    // Открыть корзину
    document.getElementById('cart-toggle').addEventListener('click', () => {
        cartSidebar.classList.add('open');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });

    // Закрыть корзину
    document.getElementById('close-cart').addEventListener('click', closeCart);

    function closeCart() {
        cartSidebar.classList.remove('open');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
    }

    // Открыть модальное окно контактов
    document.getElementById('contact-btn').addEventListener('click', () => {
        contactModal.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });

    // Закрыть модальное окно
    document.querySelectorAll('.close-modal').forEach(button => {
        button.addEventListener('click', () => {
            contactModal.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        });
    });

    // Обработчик для оверлея
    overlay.addEventListener('click', () => {
        cartSidebar.classList.remove('open');
        contactModal.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Универсальная функция добавления в корзину
    function addToCartFromCard(productCard) {
        const productName = productCard.querySelector('h4').textContent;
        const productPrice = parseInt(productCard.querySelector('.price').textContent.replace(/\D/g, ''));
        const productImage = productCard.querySelector('img').src;

        // Проверяем, нет ли уже такого товара в корзине
        if (cart.some(item => item.name === productName && item.size === selectedSize)) {
            showToast('Этот товар уже в корзине!', 'warning');
            return;
        }

        cart.push({
            name: productName,
            price: productPrice,
            size: selectedSize,
            image: productImage
        });

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartTotal();
        renderCartItems();
        showToast('Товар добавлен в корзину!', 'success');

        // Аналитика
        if (typeof gtag !== 'undefined') {
            gtag('event', 'add_to_cart', {
                'items': [{
                    'name': productName,
                    'price': productPrice
                }]
            });
        }
    }

    // Обработчики для кнопок добавления в корзину
    function initAddToCartButtons() {
        document.querySelectorAll('.add-to-cart-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const productCard = e.currentTarget.closest('.product-card');
                addToCartFromCard(productCard);

                // Анимация кнопки
                const originalHtml = e.currentTarget.innerHTML;
                e.currentTarget.innerHTML = '<i class="fas fa-check"></i> Добавлено';
                e.currentTarget.classList.add('added');
                setTimeout(() => {
                    e.currentTarget.classList.remove('added');
                    e.currentTarget.innerHTML = originalHtml;
                }, 2000);
            });
        });
    }

    // Универсальная функция для показа товара
    function showProductDetail(productId) {
        const product = products[productId];
        if (!product) return;

        // Заполняем информацию о товаре
        document.getElementById('detail-product-name').textContent = product.name;
        document.getElementById('detail-product-price').textContent = `${product.price.toLocaleString('ru-RU')} BYN`;
        document.getElementById('detail-product-desc').textContent = `${product.name} - качественная реплика 1:1 от бренда ${product.brand}.`;

        // Заполняем характеристики
        const featuresList = document.getElementById('detail-features');
        featuresList.innerHTML = product.features.map(feature =>
            `<li>${feature}</li>`
        ).join('');

        // Устанавливаем изображения
        const mainImage = document.getElementById('main-product-image');
        const thumbnailsContainer = document.querySelector('.product-thumbnails');

        if (product.images && product.images.length > 0) {
            mainImage.src = product.images[0];
            thumbnailsContainer.innerHTML = '';

            product.images.forEach((imageSrc, index) => {
                const thumbnail = document.createElement('img');
                thumbnail.className = 'thumbnail';
                thumbnail.alt = `Thumbnail ${index + 1}`;
                thumbnail.src = imageSrc;
                thumbnail.dataset.index = index;
                thumbnail.loading = 'lazy';

                thumbnail.addEventListener('click', () => {
                    mainImage.src = imageSrc;
                    document.querySelectorAll('.thumbnail').forEach(thumb => {
                        thumb.classList.remove('active');
                    });
                    thumbnail.classList.add('active');
                });

                if (index === 0) {
                    thumbnail.classList.add('active');
                }

                thumbnailsContainer.appendChild(thumbnail);
            });
        }

        // Показываем страницу товара
        productDetailPage.classList.add('active');
        document.body.style.overflow = 'hidden';

        // Аналитика
        if (typeof gtag !== 'undefined') {
            gtag('event', 'view_item', {
                'items': [{
                    'item_name': product.name,
                    'price': product.price
                }]
            });
        }
    }

    // Обработчики для быстрого просмотра
    function initQuickViewButtons() {
        document.querySelectorAll('.quick-view').forEach(button => {
            button.addEventListener('click', (e) => {
                const productId = e.currentTarget.dataset.product;
                showProductDetail(productId);
            });
        });
    }

    // Обработчик для кнопки "Назад"
    document.getElementById('back-to-products').addEventListener('click', () => {
        productDetailPage.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Обработчики для выбора размера
    document.querySelectorAll('.size-option').forEach(option => {
        option.addEventListener('click', (e) => {
            // Убираем выделение у всех вариантов
            document.querySelectorAll('.size-option').forEach(opt => {
                opt.classList.remove('selected');
            });

            // Выделяем выбранный вариант
            e.currentTarget.classList.add('selected');
            selectedSize = e.currentTarget.dataset.size;
        });
    });

    // Обработчик для добавления в корзину со страницы товара
    document.getElementById('detail-add-to-cart').addEventListener('click', () => {
        const productName = document.getElementById('detail-product-name').textContent;
        const productPrice = parseInt(document.getElementById('detail-product-price').textContent.replace(/\D/g, ''));
        const productImage = document.getElementById('main-product-image').src;

        // Проверяем, нет ли уже такого товара в корзине
        if (cart.some(item => item.name === productName && item.size === selectedSize)) {
            showToast('Этот товар уже в корзине!', 'warning');
            return;
        }

        cart.push({
            name: productName,
            price: productPrice,
            size: selectedSize,
            image: productImage
        });

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartTotal();
        renderCartItems();
        showToast('Товар добавлен в корзину!', 'success');

        // Закрываем страницу товара
        productDetailPage.classList.remove('active');
        document.body.style.overflow = '';

        // Аналитика
        if (typeof gtag !== 'undefined') {
            gtag('event', 'add_to_cart', {
                'items': [{
                    'name': productName,
                    'price': productPrice
                }]
            });
        }
    });

    // Генерация текста заказа
    function generateOrderText() {
        if (cart.length === 0) return 'Корзина пуста';

        let orderText = '🛒 ДЕТАЛИ ЗАКАЗА 🛒\n\n';

        orderText += '👤 Пользователь: Гость\n\n';

        orderText += '📦 Состав заказа:\n';

        cart.forEach((item, index) => {
            orderText += `• ${item.name} (Размер: ${item.size}) - ${item.price.toLocaleString('ru-RU')} BYN\n`;
        });

        const total = cart.reduce((sum, item) => sum + item.price, 0);
        orderText += `\n💰 Итого: ${total.toLocaleString('ru-RU')} BYN\n`;
        orderText += `\n⏰ Время: ${new Date().toLocaleString('ru-RU')}`;
        orderText += `\n✅ Все бирки и ярлыки как в оригинале`;
        orderText += `\n✅ Качество материалов 1:1`;
        orderText += `\n✅ Полное визуальное соответствие`;

        return orderText;
    }

    // Обработчик для оформления заказа
    document.getElementById('order-btn').addEventListener('click', () => {
        if (cart.length === 0) {
            showToast('Добавьте товары в корзину', 'error');
            return;
        }

        const orderText = generateOrderText();
        const telegramUrl = `https://t.me/bigdigovich?text=${encodeURIComponent(orderText)}`;
        window.open(telegramUrl, '_blank');

        showToast('Открываю Telegram...', 'success');

        // Аналитика
        if (typeof gtag !== 'undefined') {
            gtag('event', 'purchase', {
                'transaction_id': Date.now().toString(),
                'value': cart.reduce((sum, item) => sum + item.price, 0),
                'currency': 'BYN',
                'items': cart.map(item => ({
                    'item_name': item.name,
                    'price': item.price,
                    'quantity': 1
                }))
            });
        }

        // Очищаем корзину после отправки
        setTimeout(() => {
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartTotal();
            renderCartItems();
            closeCart();
        }, 2000);
    });

    // Обработчик для копирования заказа
    document.getElementById('copy-order-btn').addEventListener('click', () => {
        if (cart.length === 0) {
            showToast('Добавьте товары в корзину', 'error');
            return;
        }

        const orderText = generateOrderText();
        navigator.clipboard.writeText(orderText).then(() => {
            showToast('Заказ скопирован в буфер!', 'success');
        }).catch(err => {
            showToast('Ошибка копирования', 'error');
        });
    });

    // Прокрутка категорий
    const categoriesContainer = document.querySelector('.categories');
    const scrollLeftBtn = document.querySelector('.scroll-left');
    const scrollRightBtn = document.querySelector('.scroll-right');

    if (scrollLeftBtn && scrollRightBtn) {
        scrollLeftBtn.addEventListener('click', () => {
            categoriesContainer.scrollBy({ left: -200, behavior: 'smooth' });
        });

        scrollRightBtn.addEventListener('click', () => {
            categoriesContainer.scrollBy({ left: 200, behavior: 'smooth' });
        });
    }

    // Фильтрация по категориям
    document.querySelectorAll('.category').forEach(category => {
        category.addEventListener('click', () => {
            const categoryName = category.dataset.category;
            filterProducts(categoryName);
        });
    });

    function filterProducts(category) {
        if (category === 'все') {
            filteredProducts = Object.values(products);
        } else {
            filteredProducts = Object.values(products).filter(product =>
                product.category === category
            );
        }

        currentPage = 1;
        renderProducts();
        updatePagination();
    }

    // Функции фильтрации
    function applyFilters() {
        const maxPrice = parseInt(priceRange.value);
        const brand = brandFilter.value;
        const size = sizeFilter.value;
        const sort = sortFilter.value;

        filteredProducts = Object.values(products).filter(product => {
            let pass = true;

            // Фильтр по цене
            if (product.price > maxPrice) {
                pass = false;
            }

            // Фильтр по бренду
            if (brand !== 'all' && product.brand !== brand) {
                pass = false;
            }

            return pass;
        });

        // Сортировка
        switch(sort) {
            case 'price-asc':
                filteredProducts.sort((a, b) => a.price - b.price);
                break;
            case 'price-desc':
                filteredProducts.sort((a, b) => b.price - a.price);
                break;
            case 'popular':
                // Здесь можно добавить логику популярности
                break;
            default:
                // newest - оставляем как есть
                break;
        }

        currentPage = 1;
        renderProducts();
        updatePagination();
    }

    // Рендер товаров
    function renderProducts() {
        const start = (currentPage - 1) * itemsPerPage;
        const end = start + itemsPerPage;
        const productsToShow = filteredProducts.slice(start, end);

        productsGrid.innerHTML = productsToShow.map(product => `
            <div class="product-card correct-height" data-category="${product.category}">
                <div class="product-image">
                    <img src="${product.images[0]}" alt="${product.name}" loading="lazy">
                    <div class="product-overlay">
                        <button class="quick-view" data-product="${Object.keys(products).find(key => products[key] === product)}">Быстрый просмотр</button>
                    </div>
                </div>
                <div class="product-info">
                    <h4>${product.name}</h4>
                    <div class="product-footer">
                        <div class="price">${product.price} BYN</div>
                        <button class="add-to-cart-btn">
                            <i class="fas fa-shopping-cart"></i> В корзину
                        </button>
                    </div>
                </div>
            </div>
        `).join('');

        initAddToCartButtons();
        initQuickViewButtons();
        initLazyLoading();
    }

    // Обновление пагинации
    function updatePagination() {
        const totalPages = Math.ceil(filteredProducts.length / itemsPerPage);

        if (totalPages <= 1) {
            pagination.style.display = 'none';
            return;
        }

        pagination.style.display = 'flex';
        let paginationHTML = '';

        for (let i = 1; i <= totalPages; i++) {
            if (i <= 3 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                paginationHTML += `<button class="pagination-btn ${i === currentPage ? 'active' : ''}">${i}</button>`;
            } else if (i === currentPage - 2 || i === currentPage + 2) {
                paginationHTML += `<button class="pagination-btn">...</button>`;
            }
        }

        pagination.innerHTML = paginationHTML;

        // Добавляем обработчики для кнопок пагинации
        document.querySelectorAll('.pagination-btn').forEach((btn, index) => {
            btn.addEventListener('click', () => {
                if (btn.textContent === '...') return;

                currentPage = parseInt(btn.textContent);
                renderProducts();
                updatePagination();

                // Прокрутка к верху
                window.scrollTo({
                    top: productsGrid.offsetTop - 100,
                    behavior: 'smooth'
                });
            });
        });
    }

    // Инициализация при загрузке страницы
    document.addEventListener('DOMContentLoaded', () => {
        updateCartCount();
        renderCartItems();
        updateCartTotal();

        // Выбираем размер M по умолчанию
        const defaultSize = document.querySelector('.size-option[data-size="M"]');
        if (defaultSize) {
            defaultSize.classList.add('selected');
        }

        // Инициализация фильтров
        priceRange.addEventListener('input', () => {
            priceValue.textContent = `До ${priceRange.value} BYN`;
            applyFilters();
        });

        brandFilter.addEventListener('change', applyFilters);
        sizeFilter.addEventListener('change', applyFilters);
        sortFilter.addEventListener('change', applyFilters);

        resetFilters.addEventListener('click', () => {
            priceRange.value = 300;
            priceValue.textContent = 'До 300 BYN';
            brandFilter.value = 'all';
            sizeFilter.value = 'all';
            sortFilter.value = 'newest';
            applyFilters();
        });

        // Рендер товаров
        renderProducts();
        updatePagination();

        // Инициализация дополнительных функций
        initLazyLoading();

        // Скрываем прелоадер
        setTimeout(() => {
            document.getElementById('preloader').style.display = 'none';
        }, 500);

        // Service Worker для кэширования
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(() => console.log('SW registered'))
                .catch(err => console.log('SW registration failed:', err));
        }
    });

    // Кэширование в LocalStorage
    function cacheProducts() {
        localStorage.setItem('cached_products', JSON.stringify({
            data: products,
            timestamp: Date.now(),
            expires: Date.now() + (24 * 60 * 60 * 1000) // 24 часа
        }));
    }

    function getCachedProducts() {
        const cached = localStorage.getItem('cached_products');
        if (!cached) return null;

        const { data, timestamp, expires } = JSON.parse(cached);

        if (Date.now() > expires) {
            localStorage.removeItem('cached_products');
            return null;
        }

        return data;
    }
</script>
</body>
</html>