<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>VibeShop</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

</head>
<body>
<!-- Preloader -->
<div id="preloader">
    <div class="loader"></div>
</div>

<!-- Header -->
<header class="header">
    <div class="header-content">
        <div class="logo">
            <h1><i class="fas fa-shirt"></i> VibeShop</h1>
            <p>Стиль в каждом моменте</p>
        </div>
        <div class="header-actions">
            <button id="contact-btn" class="contact-btn">
                <i class="fas fa-envelope"></i> Контакты
            </button>
            <button id="cart-toggle" class="cart-btn">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-count" class="cart-badge">0</span>
            </button>
        </div>
    </div>
</header>

<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <h2>Обнови свой стиль</h2>
        <p>Качественная одежда и премиальные реплики 1:1</p>
        <div class="hero-features">
            <div class="feature">
                <i class="fas fa-truck-fast"></i>
                <span>Быстрая доставка</span>
            </div>
            <div class="feature">
                <i class="fas fa-medal"></i>
                <span>Качество 1:1</span>
            </div>
            <div class="feature">
                <i class="fas fa-tag"></i>
                <span>Лучшие цены</span>
            </div>
        </div>
    </div>
</section>

<!-- Категории -->
<div class="categories-container">
    <button class="scroll-btn scroll-left">
        <i class="fas fa-chevron-left"></i>
    </button>
    <div class="categories">
        <div class="category" data-category="все"><img src="home0024-48.png" alt="Все"><span>Все</span></div>
        <div class="category" data-category="свитшоты"><img src="кархарт.jpeg" alt="Свитшоты"><span>Свитшоты</span></div>
        <div class="category" data-category="лонгсливы"><img src="кархарт.jpeg" alt="Лонгсливы"><span>Лонгсливы</span></div>
        <div class="category" data-category="зипки"><img src="stus.jpeg" alt="Зипки"><span>Зипки</span></div>
        <div class="category" data-category="жилетки"><img src="жилетка.jpeg" alt="Жилетки"><span>Жилетки</span></div>
        <div class="category" data-category="сумки"><img src="praada.jpeg" alt="Сумки"><span>Сумки</span></div>
    </div>
    <button class="scroll-btn scroll-right">
        <i class="fas fa-chevron-right"></i>
    </button>
</div>

<!-- Products Section -->
<main class="products-section">
    <div class="section-header">
        <h3>Наша коллекция</h3>
        <p>Выбери то, что подходит именно тебе</p>
    </div>

    <div class="products-grid">
        <!-- Свитшот Hermes -->
        <div class="product-card correct-height" data-category="свитшоты">
            <div class="product-image">
                <img src="hermeshud1.jpg" alt="Свитшот Hermes">
                <div class="product-overlay">
                    <button class="quick-view" data-product="1">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Свитшот Hermes</h4>
                <div class="product-footer">
                    <div class="price">129 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Свитшот Burberry -->
        <div class="product-card correct-height" data-category="свитшоты">
            <div class="product-image">
                <img src="СВИТШОТЫ BURBERRY1.jpg" alt="Свитшот Burberry">
                <div class="product-overlay">
                    <button class="quick-view" data-product="2">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Свитшот Burberry</h4>
                <div class="product-footer">
                    <div class="price">114 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Свитшот Lacoste -->
        <div class="product-card correct-height" data-category="свитшоты">
            <div class="product-image">
                <img src="СВИТШОТЫ LACOSTEбел1.jpg" alt="Свитшот Lacoste">
                <div class="product-overlay">
                    <button class="quick-view" data-product="3">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Свитшот Lacoste</h4>
                <div class="product-footer">
                    <div class="price">89 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Свитшот Lacoste черный -->
        <div class="product-card correct-height" data-category="свитшоты">
            <div class="product-image">
                <img src="СВИТШОТЫ LACOSTEчер1.jpg" alt="Свитшот Lacoste черный">
                <div class="product-overlay">
                    <button class="quick-view" data-product="4">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Свитшот Lacoste черный</h4>
                <div class="product-footer">
                    <div class="price">89 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Зипка Dior -->
        <div class="product-card correct-height" data-category="зипки">
            <div class="product-image">
                <img src="DIORзип1.jpg" alt="Зипка Dior">
                <div class="product-overlay">
                    <button class="quick-view" data-product="5">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Зипка Dior</h4>
                <div class="product-footer">
                    <div class="price">149 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Лонгслив Guess -->
        <div class="product-card correct-height" data-category="лонгсливы">
            <div class="product-image">
                <img src="Лонгguess.jpg" alt="Лонгслив Guess">
                <div class="product-overlay">
                    <button class="quick-view" data-product="6">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Лонгслив Guess</h4>
                <div class="product-footer">
                    <div class="price">98 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Жилетка Corteiz -->
        <div class="product-card correct-height" data-category="жилетки">
            <div class="product-image">
                <img src="photo_2025-07-01_17-31-38.jpg" alt="Жилетка Corteiz">
                <div class="product-overlay">
                    <button class="quick-view" data-product="7">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Жилетка Corteiz</h4>
                <div class="product-footer">
                    <div class="price">139 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Жилетка Jordan & Supreme -->
        <div class="product-card correct-height" data-category="жилетки">
            <div class="product-image">
                <img src="ЖИЛЕТКИ JORDAN & SUPREMEбел1.jpg" alt="Жилетка Jordan & Supreme">
                <div class="product-overlay">
                    <button class="quick-view" data-product="8">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Жилетка Jordan & Supreme</h4>
                <div class="product-footer">
                    <div class="price">169 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Жилетка Nike ACG -->
        <div class="product-card correct-height" data-category="жилетки">
            <div class="product-image">
                <img src="ЖИЛЕТКИ NIKEasg1.jpg" alt="Жилетка Nike ACG">
                <div class="product-overlay">
                    <button class="quick-view" data-product="9">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Жилетка Nike ACG</h4>
                <div class="product-footer">
                    <div class="price">124 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Жилетка Polo Ralph Lauren -->
        <div class="product-card correct-height" data-category="жилетки">
            <div class="product-image">
                <img src="ЖИЛЕТКИ POLO RALPH LAUREN1.jpg" alt="Жилетка Polo Ralph Lauren">
                <div class="product-overlay">
                    <button class="quick-view" data-product="10">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Жилетка Polo Ralph Lauren</h4>
                <div class="product-footer">
                    <div class="price">119 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>

        <!-- Жилетка Prada -->
        <div class="product-card correct-height" data-category="жилетки">
            <div class="product-image">
                <img src="ЖИЛЕТКИ PRADA1.jpg" alt="Жилетка Prada">
                <div class="product-overlay">
                    <button class="quick-view" data-product="11">Быстрый просмотр</button>
                </div>
            </div>
            <div class="product-info">
                <h4>Жилетка Prada</h4>
                <div class="product-footer">
                    <div class="price">189 BYN</div>
                    <button class="add-to-cart-btn">
                        <i class="fas fa-shopping-cart"></i> В корзину
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Product Detail Page -->
<div id="product-detail" class="product-detail-page">
    <div class="product-detail-container">
        <button id="back-to-products" class="back-btn">
            <i class="fas fa-arrow-left"></i> Назад к товарам
        </button>
        <div class="product-detail-content">
            <div class="product-gallery">
                <img id="main-product-image" class="main-product-image" src="" alt="Product Image">
                <div class="product-thumbnails">
                    <!-- Миниатюры будут добавлены динамически -->
                </div>
            </div>
            <div class="product-detail-info">
                <h2 id="detail-product-name">Название товара</h2>
                <div id="detail-product-price" class="product-detail-price">0 BYN</div>
                <p id="detail-product-desc" class="product-detail-desc">Описание товара</p>
                <div class="product-features">
                    <h3>Характеристики:</h3>
                    <ul id="detail-features" class="features-list">
                        <!-- Характеристики будут добавлены динамически -->
                    </ul>
                </div>
                <div class="detail-actions">
                    <div class="size-selector">
                        <h4>Размер:</h4>
                        <div class="size-options">
                            <span class="size-option" data-size="S">S</span>
                            <span class="size-option" data-size="M">M</span>
                            <span class="size-option" data-size="L">L</span>
                            <span class="size-option" data-size="XL">XL</span>
                            <span class="size-option" data-size="XXL">XXL</span>
                        </div>
                    </div>
                    <button id="detail-add-to-cart" class="detail-add-to-cart">
                        <i class="fas fa-shopping-cart"></i> Добавить в корзину
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Contact Modal -->
<div class="modal" id="contact-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-users"></i> Наша команда</h3>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="contact-info">
                <p>Мы всегда готовы помочь вам с выбором и ответить на все ваши вопросы. Свяжитесь с нами в Telegram для быстрой и удобной коммуникации!</p>
            </div>
            <div class="contact-cards">
                <div class="contact-card">
                    <div class="contact-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="contact-details">
                        <h4>Владислав</h4>
                        <p>Менеджер по продажам</p>
                        <a href="https://t.me/bigdigovich" class="contact-link" target="_blank">
                            <i class="fab fa-telegram"></i> Написать в Telegram
                        </a>
                    </div>
                </div>
                <div class="contact-card">
                    <div class="contact-avatar">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="contact-details">
                        <h4>Александр</h4>
                        <p>Техническая поддержка</p>
                        <a href="https://t.me/Amg0101am" class="contact-link" target="_blank">
                            <i class="fab fa-telegram"></i> Написать в Telegram
                        </a>
                    </div>
                </div>
            </div>
            <div class="replica-notice">
                <h4><i class="fas fa-crown"></i> Премиум качество</h4>
                <p>Все наши товары - это качественные реплики 1:1, которые не уступают оригиналам по материалам и пошиву.</p>
                <ul>
                    <li>Точное соответствие оригиналу</li>
                    <li>Качественные материалы</li>
                    <li>Прочная фурнитура</li>
                    <li>Аккуратная строчка</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Cart Sidebar -->
<div id="cart-sidebar" class="cart-sidebar">
    <div class="cart-header">
        <h3><i class="fas fa-shopping-cart"></i> Корзина</h3>
        <button class="close-btn">&times;</button>
    </div>
    <div class="cart-content">
        <div class="cart-empty">
            <i class="fas fa-shopping-cart"></i>
            <p>Ваша корзина пуста</p>
            <small>Добавьте товары из каталога</small>
        </div>
        <!-- Cart items will be added dynamically -->
    </div>
    <div class="cart-footer">
        <div class="cart-total">
            <span>Итого:</span>
            <span id="cart-total-price">0 BYN</span>
        </div>
        <button id="order-btn" class="order-btn">
            <i class="fas fa-check"></i> Оформить заказ
        </button>
        <button id="copy-order-btn" class="copy-btn">
            <i class="fas fa-copy"></i> Скопировать заказ
        </button>
    </div>
</div>

<!-- Overlay -->
<div id="overlay" class="overlay"></div>

<!-- Toast Notification -->
<div id="toast" class="toast"></div>

<script>
    // Данные товаров
    const products = {
        1: {
            name: "Свитшот Hermes",
            price: 129,
            features: [
                "Материал: премиальный хлопок",
                "Качество 1:1",
                "Фирменная бирка и упаковка",
                "Доступные размеры: S, M, L, XL"
            ],
            images: [
                "hermeshud1.jpg",
                "hermeshud2.jpg",
                "hermeshud3.jpg",
                "hermeshud4.jpg",
                "hermeshud5.jpg",
                "hermeshud6.jpg",
            ]
        },
        2: {
            name: "Свитшот Burberry",
            price: 114,
            features: [
                "Материал: высококачественный хлопок",
                "Узнаваемый клетчатый узор",
                "Фирменная бирка",
                "Размеры: M, L"
            ],
            images: [
                "СВИТШОТЫ BURBERRY1.jpg",
                "СВИТШОТЫ BURBERRY2.jpg",
                "СВИТШОТЫ BURBERRY3.jpg",
                "СВИТШОТЫ BURBERRY4.jpg",
                "СВИТШОТЫ BURBERRY5.jpg",
                "СВИТШОТЫ BURBERRY6.jpg",
                "СВИТШОТЫ BURBERRY7.jpg"
            ]
        },
        3: {
            name: "Свитшот Lacoste",
            price: 89,
            features: [
                "Материал: хлопок с небольшим добавлением эластана",
                "Фирменный крокодил",
                "Комфортная посадка",
                "Размеры: M, L"
            ],
            images: [
                "СВИТШОТЫ LACOSTEбел1.jpg",
                "СВИТШОТЫ LACOSTEбел2.jpg",
                "СВИТШОТЫ LACOSTEбел3.jpg",
                "СВИТШОТЫ LACOSTEбел4.jpg",
                "СВИТШОТЫ LACOSTEбел5.jpg",
                "СВИТШОТЫ LACOSTEбел6.jpg",
                "СВИТШОТЫ LACOSTEбел7.jpg"
            ]
        },
        4: {
            name: "Свитшот Lacoste черный",
            price: 89,
            features: [
                "Материал: премиальный хлопок",
                "Классический черный цвет",
                "Фирменный крокодил",
                "Размеры: S, M, L, XL"
            ],
            images: [
                "СВИТШОТЫ LACOSTEчер1.jpg",
                "СВИТШОТЫ LACOSTEчер2.jpg",
                "СВИТШОТЫ LACOSTEчер3.jpg",
                "СВИТШОТЫ LACOSTEчер4.jpg",
                "СВИТШОТЫ LACOSTEчер5.jpg",
                "СВИТШОТЫ LACOSTEчер6.jpg",
            ]
        },
        5: {
            name: "Зипка Dior",
            price: 149,
            features: [
                "Материал: высококачественный полиэстер",
                "Фирменная фурнитура",
                "Качество 1:1",
                "Размеры: M, L"
            ],
            images: [
                "DIORзип1.jpg",
                "DIORзип2.jpg",
                "DIORзип3.jpg",
                "DIORзип4.jpg",
                "DIORзип5.jpg",
                "DIORзип6.jpg",
                "DIORзип7.jpg",
                "DIORзип8.jpg",
                "DIORзип9.jpg"
            ]
        },
        6: {
            name: "Лонгслив Guess",
            price: 98,
            features: [
                "Материал: хлопок",
                "Узнаваемый логотип Guess",
                "Удобный крой",
                "Размеры: M, L"
            ],
            images: [
                "Лонгguess1.jpg",
                "Лонгguess2.jpg",
                "Лонгguess3.jpg",
                "Лонgguess4.jpg",
                "Лонгguess5.jpg",
                "Лонгguess6.jpg",
                "Лонгguess7.jpg"
            ]
        },
        7: {
            name: "Жилетка Corteiz",
            price: 139,
            features: [
                "Материал: нейлон",
                "Водоотталкивающая пропитка",
                "Несколько карманов",
                "Размеры: M, L"
            ],
            images: [
                "photo_2025-07-01_17-31-38.jpg",
                "CORTEIZjil2.jpg",
                "CORTEIZjil3.jpg",
                "CORTEIZjil4.jpg",
                "CORTEIZjil5.jpg",
                "CORTEIZjil6.jpg",
                "CORTEIZjil7.jpg"
            ]
        },
        8: {
            name: "Жилетка Jordan & Supreme",
            price: 169,
            features: [
                "Материал: полиэстер",
                "Уникальный дизайн коллаборации",
                "Фирменные логотипы",
                "Размеры: M, L"
            ],
            images: [
                "ЖИЛЕТКИ JORDAN & SUPREMEбел1.jpg",
                "ЖИЛЕТКИ JORDAN & SUPREMEбел2.jpg",
                "ЖИЛЕТКИ JORDAN & SUPREMEбел3.jpg",
                "ЖИЛЕТКИ JORDAN & SUPREMEбел4.jpg",
                "ЖИЛЕТКИ JORDAN & SUPREMEбел5.jpg",
                "ЖИЛЕТКИ JORDAN & SUPREMEбел6.jpg",
                "ЖИЛЕТКИ JORDAN & SUPREMEбел7.jpg"
            ]
        },
        9: {
            name: "Жилетка Nike ACG",
            price: 124,
            features: [
                "Материал: технологичная ткань Nike",
                "Водоотталкивающие свойства",
                "Светоотражающие элементы",
                "Размеры: M, L"
            ],
            images: [
                "ЖИЛЕТКИ NIKEasg1.jpg",
                "ЖИЛЕТКИ NIKEasg2.jpg",
                "ЖИЛЕТКИ NIKEasg3.jpg",
                "ЖИЛЕТКИ NIKEasg4.jpg",
                "ЖИЛЕТКИ NIKEasg5.jpg",
                "ЖИЛЕТКИ NIKEasg6.jpg",
                "ЖИЛЕТКИ NIKEasg7.jpg"
            ]
        },
        10: {
            name: "Жилетка Polo Ralph Lauren",
            price: 119,
            features: [
                "Материал: хлопок/нейлон",
                "Классический дизайн",
                "Фирменный логотип",
                "Размеры: S, M, L, XL"
            ],
            images: [
                "ЖИЛЕТКИ POLO RALPH LAUREN1.jpg",
                "ЖИЛЕТКИ POLO RALPH LAUREN2.jpg",
                "ЖИЛЕТКИ POLO RALPH LAUREN3.jpg",
                "ЖИЛЕТКИ POLO RALPH LAUREN4.jpg",
                "ЖИЛЕТКИ POLO RALPH LAUREN5.jpg",
                "ЖИЛЕТКИ POLO RALPH LAUREN6.jpg",
                "ЖИЛЕТКИ POLO RALPH LAUREN7.jpg",
                "ЖИЛЕТКИ POLO RALPH LAUREN8.jpg"
            ]
        },
        11: {
            name: "Жилетка Prada",
            price: 189,
            features: [
                "Материал: премиальные материалы",
                "Идеальная посадка",
                "Фирменная фурнитура",
                "Размеры: M, L"
            ],
            images: [
                "ЖИЛЕТКИ PRADA1.jpg",
                "ЖИЛЕТКИ PRADA2.jpg",
                "ЖИЛЕТКИ PRADA3.jpg",
                "ЖИЛЕТКИ PRADA4.jpg",
                "ЖИЛЕТКИ PRADA5.jpg",
                "ЖИЛЕТКИ PRADA6.jpg",
            ]
        }
    };

    // Инициализация корзины
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let selectedSize = 'M';

    // DOM элементы
    const cartCount = document.getElementById('cart-count');
    const cartTotalPrice = document.getElementById('cart-total-price');
    const cartContent = document.querySelector('.cart-content');
    const cartSidebar = document.getElementById('cart-sidebar');
    const overlay = document.getElementById('overlay');
    const contactModal = document.getElementById('contact-modal');
    const productDetailPage = document.getElementById('product-detail');
    const toast = document.getElementById('toast');

    // Обновление счетчика корзины
    function updateCartCount() {
        cartCount.textContent = cart.length;
    }

    // Обновление общей стоимости
    function updateCartTotal() {
        const total = cart.reduce((sum, item) => sum + item.price, 0);
        cartTotalPrice.textContent = `${total.toLocaleString('ru-RU')} BYN`;
    }

    // Отображение товаров в корзине
    function renderCartItems() {
        if (cart.length === 0) {
            cartContent.innerHTML = `
                <div class="cart-empty">
                    <i class="fas fa-shopping-cart"></i>
                    <p>Ваша корзина пуста</p>
                    <small>Добавьте товары из каталога</small>
                </div>
            `;
            return;
        }

        cartContent.innerHTML = cart.map((item, index) => `
            <div class="cart-item">
                <img src="${item.image || 'placeholder.jpg'}" alt="${item.name}">
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">${item.price.toLocaleString('ru-RU')} BYN</div>
                    <small>Размер: ${item.size}</small>
                </div>
                <button class="remove-item" data-index="${index}">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `).join('');

        // Добавляем обработчики событий для кнопок удаления
        document.querySelectorAll('.remove-item').forEach(button => {
            button.addEventListener('click', (e) => {
                const index = parseInt(e.currentTarget.dataset.index);
                cart.splice(index, 1);
                localStorage.setItem('cart', JSON.stringify(cart));
                renderCartItems();
                updateCartCount();
                updateCartTotal();
                showToast('Товар удален из корзины', 'success');
            });
        });
    }

    // Показать уведомление
    function showToast(message, type = 'success') {
        toast.textContent = message;
        toast.className = `toast ${type} show`;
        setTimeout(() => {
            toast.className = 'toast';
        }, 3000);
    }

    // Открыть корзину
    document.getElementById('cart-toggle').addEventListener('click', () => {
        cartSidebar.classList.add('open');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });

    // Закрыть корзину
    document.querySelector('.close-btn').addEventListener('click', closeCart);

    function closeCart() {
        cartSidebar.classList.remove('open');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
    }

    // Открыть модальное окно контактов
    document.getElementById('contact-btn').addEventListener('click', () => {
        contactModal.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    });

    // Закрыть модальное окно
    document.querySelectorAll('.close-modal').forEach(button => {
        button.addEventListener('click', () => {
            contactModal.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        });
    });

    // Обработчик для оверлея
    overlay.addEventListener('click', () => {
        cartSidebar.classList.remove('open');
        contactModal.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Универсальная функция добавления в корзину
    function addToCartFromCard(productCard) {
        const productName = productCard.querySelector('h4').textContent;
        const productPrice = parseInt(productCard.querySelector('.price').textContent.replace(/\D/g, ''));
        const productImage = productCard.querySelector('img').src;

        // Проверяем, нет ли уже такого товара в корзине
        if (cart.some(item => item.name === productName && item.size === selectedSize)) {
            showToast('Этот товар уже в корзине!', 'warning');
            return;
        }

        cart.push({
            name: productName,
            price: productPrice,
            size: selectedSize,
            image: productImage
        });

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartTotal();
        showToast('Товар добавлен в корзину!', 'success');
    }

    // Обработчики для кнопок добавления в корзину
    document.querySelectorAll('.add-to-cart-btn').forEach(button => {
        button.addEventListener('click', (e) => {
            const productCard = e.currentTarget.closest('.product-card');
            addToCartFromCard(productCard);

            // Анимация кнопки
            e.currentTarget.classList.add('added');
            setTimeout(() => {
                e.currentTarget.classList.remove('added');
            }, 2000);
        });
    });

    // Универсальная функция для показа товара
    function showProductDetail(productId) {
        const product = products[productId];
        if (!product) return;

        // Заполняем информацию о товаре
        document.getElementById('detail-product-name').textContent = product.name;
        document.getElementById('detail-product-price').textContent = `${product.price.toLocaleString('ru-RU')} BYN`;

        // Заполняем характеристики
        const featuresList = document.getElementById('detail-features');
        featuresList.innerHTML = product.features.map(feature =>
            `<li>${feature}</li>`
        ).join('');

        // Устанавливаем изображения
        const mainImage = document.getElementById('main-product-image');
        const thumbnailsContainer = document.querySelector('.product-thumbnails');

        if (product.images && product.images.length > 0) {
            mainImage.src = product.images[0];
            thumbnailsContainer.innerHTML = '';

            product.images.forEach((imageSrc, index) => {
                const thumbnail = document.createElement('img');
                thumbnail.className = 'thumbnail';
                thumbnail.alt = `Thumbnail ${index + 1}`;
                thumbnail.src = imageSrc;
                thumbnail.dataset.index = index;

                thumbnail.addEventListener('click', () => {
                    mainImage.src = imageSrc;
                    document.querySelectorAll('.thumbnail').forEach(thumb => {
                        thumb.classList.remove('active');
                    });
                    thumbnail.classList.add('active');
                });

                if (index === 0) {
                    thumbnail.classList.add('active');
                }

                thumbnailsContainer.appendChild(thumbnail);
            });
        }

        // Показываем страницу товара
        productDetailPage.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    // Обработчики для быстрого просмотра
    document.querySelectorAll('.quick-view').forEach(button => {
        button.addEventListener('click', (e) => {
            const productId = e.currentTarget.dataset.product;
            showProductDetail(productId);
        });
    });

    // Обработчик для кнопки "Назад"
    document.getElementById('back-to-products').addEventListener('click', () => {
        productDetailPage.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Обработчики для выбора размера
    document.querySelectorAll('.size-option').forEach(option => {
        option.addEventListener('click', (e) => {
            // Убираем выделение у всех вариантов
            document.querySelectorAll('.size-option').forEach(opt => {
                opt.classList.remove('selected');
            });

            // Выделяем выбранный вариант
            e.currentTarget.classList.add('selected');
            selectedSize = e.currentTarget.dataset.size;
        });
    });

    // Обработчик для добавления в корзину со страницы товара
    document.getElementById('detail-add-to-cart').addEventListener('click', () => {
        const productName = document.getElementById('detail-product-name').textContent;
        const productPrice = parseInt(document.getElementById('detail-product-price').textContent.replace(/\D/g, ''));
        const productImage = document.getElementById('main-product-image').src;

        // Проверяем, нет ли уже такого товара в корзине
        if (cart.some(item => item.name === productName && item.size === selectedSize)) {
            showToast('Этот товар уже в корзине!', 'warning');
            return;
        }

        cart.push({
            name: productName,
            price: productPrice,
            size: selectedSize,
            image: productImage
        });

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartTotal();
        showToast('Товар добавлен в корзину!', 'success');

        // Закрываем страницу товара
        productDetailPage.classList.remove('active');
        document.body.style.overflow = '';
    });

    // Генерация текста заказа
    function generateOrderText() {
        if (cart.length === 0) return 'Корзина пуста';

        let orderText = 'Здравствуйте! Я хочу оформить заказ:\n\n';

        cart.forEach((item, index) => {
            orderText += `${index + 1}. ${item.name} - ${item.price.toLocaleString('ru-RU')} BYN (Размер: ${item.size})\n`;
        });

        const total = cart.reduce((sum, item) => sum + item.price, 0);
        orderText += `\nИтого: ${total.toLocaleString('ru-RU')} BYN\n\n`;
        orderText += 'Спасибо!';

        return orderText;
    }

    // Обработчик для оформления заказа
    document.getElementById('order-btn').addEventListener('click', () => {
        if (cart.length === 0) {
            showToast('Добавьте товары в корзину', 'error');
            return;
        }

        const orderText = generateOrderText();
        const telegramUrl = `https://t.me/vibeshop_manager?text=${encodeURIComponent(orderText)}`;
        window.open(telegramUrl, '_blank');
    });

    // Обработчик для копирования заказа
    document.getElementById('copy-order-btn').addEventListener('click', () => {
        if (cart.length === 0) {
            showToast('Добавьте товары в корзину', 'error');
            return;
        }

        const orderText = generateOrderText();
        navigator.clipboard.writeText(orderText).then(() => {
            showToast('Заказ скопирован! Отправьте его менеджеру.', 'success');
        });
    });

    // Прокрутка категорий
    const categoriesContainer = document.querySelector('.categories');
    const scrollLeftBtn = document.querySelector('.scroll-left');
    const scrollRightBtn = document.querySelector('.scroll-right');

    scrollLeftBtn.addEventListener('click', () => {
        categoriesContainer.scrollBy({ left: -200, behavior: 'smooth' });
    });

    scrollRightBtn.addEventListener('click', () => {
        categoriesContainer.scrollBy({ left: 200, behavior: 'smooth' });
    });

    // Фильтрация по категориям
    document.querySelectorAll('.category').forEach(category => {
        category.addEventListener('click', () => {
            const categoryName = category.dataset.category;
            filterProducts(categoryName);
        });
    });

    function filterProducts(category) {
        const productCards = document.querySelectorAll('.product-card');

        productCards.forEach(card => {
            if (category === 'все' || card.dataset.category === category) {
                card.style.display = 'flex';
            } else {
                card.style.display = 'none';
            }
        });
    }

    // Инициализация при загрузке страницы
    document.addEventListener('DOMContentLoaded', () => {
        updateCartCount();
        renderCartItems();
        updateCartTotal();

        // Выбираем размер M по умолчанию
        document.querySelector('.size-option[data-size="M"]').classList.add('selected');

        // Скрываем прелоадер
        setTimeout(() => {
            document.getElementById('preloader').style.display = 'none';
        }, 500);
    });
</script>
</body>
</html>